<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.saltedfish.mapper.security.RoleMapper">

    
    <!-- 根据用户查询用户的角色 -->
    <select id="selectRolesByUserId" parameterType="String" resultType="com.saltedfish.entity.security.SysRoles">
    SELECT 
		roles.ROLE_ID roleId,
		roles.ROLE_NAME roleName,
		roles.ROLE_DESC roleDesc,
		roles.ENABLE enable,
		roles.ROLE_KEY roleKey
	FROM SYS_USERS_ROLES sur 
		LEFT JOIN  SYS_ROLES roles on roles.ROLE_ID = sur.ROLE_ID
		LEFT JOIN  SYS_USERS users on users.USER_ID  = sur.USER_ID
	WHERE users.USER_ID = #{value}
    </select>
    
</mapper> 